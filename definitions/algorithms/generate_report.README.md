This folder contains the inputs & outputs of our algorithm, on the [MAMBO](https://gitlab.com/franck.ledoux/mambo/) dataset.

Contrary to a supplemental material in the PDF format where the ordering is fixed and the 3D models are compressed into a set of 2D images, 
you will be able to sort/filter by any column, and visualize the results in a 3D viewer.

# Important : Allow the access to local files

However, for security reasons, internet navigators do not allow HTML files from accessing local files 
([CORS error](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#file_origins)), 
such as the 3D models. You have 2 solutions:

## 1. Temporarily change the security policy of your internet navigator

### Firefox

Open `about:config` and change the value of `security.fileuri.strict_origin_policy` from `true` to `false`

Then open `report.html`

### Chrome

Execute

```bash
google-chrome report.html --allow-file-access-from-files
```

## 2. Launch an HTTP server

For example with Python:

```bash
python3 -m http.server
```

Then open http://0.0.0.0:8000/ with your internet navigator and open `report.html`

# Sankey diagram

Above the interactive grid, there is a collapsed section hiding a Sankey diagram, which gives high level stats about the batch execution 
(for our method only, Evocube results are ignored).  
You can adjust the vertical position of the nodes, and hovering them gives the number of models.

# Column filters

To see only labelings generated by our method : hamburger button of the 'method' column → select Equals 'Ours' 
([Set Filters](https://www.ag-grid.com/javascript-data-grid/filter-set/) are not available in the community edition of the library)

To see only invalid labelings : hamburger button of the 'valid' column → choose 'False'

To see only failed labeling generations : for ex. hamburger button of the '#charts' column → choose 'Blank'. To reset, choose 'Equals' and leave empty

# Column sort

You can click on the name of a column to switch between ascending, descending and default order.

# Columns description

- CAD model : name of the 3D model

- method : if the polycube labeling was generated using Evocube (Dumery et al. 2022) or our algorithm

"surface mesh" group

- #vertices : number of vertices in the triangle mesh

- #facets : number of facets in the triangle mesh

- sd(area) : standard deviation of the facets area

"labeling" group

- #charts : number of charts

- #boundaries : number of boundaries

- #corners : number of corners

- #invalid-charts : number of invalid charts

- #invalid-boundaries : number of invalid boundaries

- #invalid-corners : number of invalid corners

- min(fidelity) : minimal (worse) per-triangle fidelity (closeness between the facet normal and the assigned direction). In [0,1]

- avg(fidelity) : average per-triangle fidelity, in [0,1]

- valid : if the labeling corresponds to a polycube topology or not

- #turning-points : number of turning-points (high turns along boundaries)

- duration : execution duration, of the labeling algorithm only, in seconds

- speedup : duration of Evocube divided by the duration of our algorithm

- open : open the 3D viewer. After 5s, the 3D model switches between the labeled mesh and a fast polycube estimation. If no labeling was generated, the triangle mesh is displayed instead. Screen space Ambient Occlusion (SSAO) is on by default.

"feature edges" group

- removed : percentage of CAD lines not considered feature edges because of their low dihedral angle

- lost : percentage of lost feature edges because the same direction (label) is assigned on the 2 adjacent facets

- preserved : percentage of preserved feature edge (between 2 different labels)

"hex-mesh" group

- min(SJ) : minimal (worse) per-hexahedron scaled jacobian

- avg(SJ) : average per-hexahedron scaled jacobian

- open : open the 3D viewer. Screen space Ambient Occlusion (SSAO) is off by default.

# Comparison with PolyCut

We wanted to compare our algorithm with PolyCut (Livesu et al. 2013). 
However, we were unable to successfully run the executable provided by the authors (polycut.exe). 
We did not get any output file and the logs were empty. 
Following executables in pipeline.bat failed and printed "Input file missing".
We contacted the corresponding author and did not get an answer before the submission deadline.

# Acknowledgment

The authors would like to thank contributors to the [AG Grid](https://github.com/ag-grid/ag-grid), 
[d3-sankey](https://github.com/d3/d3-sankey), [model-viewer](https://github.com/google/model-viewer) 
and [tinygltf](https://github.com/syoyo/tinygltf) libraries, as well as Khronos Group for the 
standardization of the [glTF](https://www.khronos.org/gltf/) file format.

Like our algorithm, data processing and the report generation will be made open-source.